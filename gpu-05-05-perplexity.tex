
\begin{comment}
\begin{figure}[tb]	% [htb]
  \centering
  \epsfig{file=plots/ppx-gpu.eps, width=\columnwidth}
  \caption{Perplexity convergence of com-DBLP on the GTX~\mbox{Titan-X}~GPU. Number
  of communities chosen to maximally fill the GPU memory.}
  \label{fig-ppx-gpu}
\end{figure}

\begin{figure}[tb]	% [htb]
  \centering
  \epsfig{file=plots/ppx-cpu.eps, width=\columnwidth}
  \caption{Perplexity convergence of com-LiveJournal on the multi-core~CPU.
  Number of communities chosen to maximally fill the CPU memory.}
  \label{fig-ppx-cpu}
\end{figure}
\end{comment}

\begin{figure}[tb]	% [htb]
  \centering
  \epsfig{file=plots/ppx-gpu-cpu.eps, width=0.45\textwidth}
  \caption{Perplexity convergence. com-DBLP on the GTX~\mbox{Titan-X}~GPU.
  Number of communities chosen to
  maximally fill the GPU memory.}
  \label{fig-ppx-gpu-cpu}
\end{figure}

\subsubsection{Algorithm Convergence}

This section presents the evolution of the perplexity, i.e.\ the metric for
the solution quality, as a function of time for
two datasets, whose properties are given in Table~\ref{table-snap}. This
analysis shows that our implementations of the algorithm indeed achieve
convergence, and it gives an impression of the time required to achieve
convergence for the largest datasets and community sizes that fit into the memory
of a GPU. The dominant customer of memory is the
$\pi$ matrix, sized $N{\times}K$ for $K$ communities and $N$ vertices in the
graph. The runtime per iteration is independent of~$N$, but it depends on the
product of~$K$, the mini-batch size~$M$, and the neighbor sample size~$|\Neighbors|$. On
the other hand, the number of iterations required to achieve sufficient
convergence does grow with the size of the graph.

Figure~\ref{fig-ppx-gpu-cpu}(a) shows the perplexity development for the dataset
com-DBLP, with $N=317,080$. It is computed on the GTX~\mbox{Titan-X} GPU with input
parameter set $K=4096$, $M=4096$, $|\Neighbors|=32$. Convergence is reached after 6~hours.
%
Note that the GTX~\mbox{Titan-X} would be unable to
process more than $K$=256 communities for the much larger com-LiveJournal dataset.
